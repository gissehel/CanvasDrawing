<!doctype html>
<html>
    <head>
        <script src='canvasdrawing.js'></script>
        <style>
            body, canvas { margin:0; padding:0; overflow: hidden;}
        </style>
    </head>
    <body>
        <canvas id='item'></canvas>
    </body>
</html>
<script>
let {Drawing, Vector} = CanvasDrawing;
let drawing = new Drawing({ canvas: document.getElementById('item'), height: 1080, width: 1920, origin: [1920/2,1080/2], mapx: 1080/2, mapy: -1080/2, bgcolor: '#d8cccc' });

const getRange = (n) => [...Array(n).keys()];
const getPoints = (range) => range.map(i => new Vector(0.99,2*Math.PI*i/range.length, true));
const getIndex = (points, index) => points[(((Math.floor(index))%points.length)+points.length)%points.length];
const drawTimeTable = (drawing, n, d) => {
    let range = getRange(n);
    let points = getPoints(range);
    drawing.clear();
    points.map((point,i)=>drawing.line({point0:point, point1:getIndex(points,d*i), color:'#331118'}))
    console.log([n,d]);
}

// drawTimeTable(drawing, 1004, 200);
// drawTimeTable(drawing, 30*15-37, 15);
const drawFrame = (k)=> {
    let n = k+1;
    drawTimeTable(drawing, 3*k+7, k);
}

getRange(1024).map((k)=>setTimeout(()=>drawFrame(k), k*0.07*1000));
</script>
